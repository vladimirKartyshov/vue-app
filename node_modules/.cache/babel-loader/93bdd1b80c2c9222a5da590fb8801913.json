{"ast":null,"code":"import AppBaseFormText from '@/components/BaseFormText.vue';\nimport AppBaseFormTextArea from '@/components/BaseFormTextArea.vue';\nimport { mapGetters } from 'vuex';\nimport axios from 'axios';\nimport { API_BASE_URL } from '@/config';\nexport default {\n  name: 'AppOrderPage',\n  components: {\n    AppBaseFormText,\n    AppBaseFormTextArea\n  },\n\n  data() {\n    return {\n      formData: {},\n      formError: {},\n      formErrorMessage: ''\n    };\n  },\n\n  methods: {\n    order() {\n      this.formError = {};\n      this.formErrorMessage = '';\n      axios.post(API_BASE_URL + '/orders', { ...this.formData\n      }, {\n        params: {\n          userAccessKey: this.$store.state.userAccessKey\n        }\n      }).then(response => {\n        this.$store.commit('resetCart');\n        this.$store.commit();\n      }).catch(error => {\n        this.formError = error.response.data.error.request || {};\n        this.formErrorMessage = error.response.data.error.message;\n      });\n    }\n\n  },\n  computed: { ...mapGetters({\n      products: 'cartDetailProducts',\n      totalPrice: 'cartTotalPrice'\n    })\n  }\n};","map":{"version":3,"mappings":"AA2RA;AACA;AACA;AACA;AACA;AAEA;EACAA,oBADA;EAGAC;IAAAC;IAAAC;EAAA,CAHA;;EAKAC;IACA;MACAC,YADA;MAEAC,aAFA;MAGAC;IAHA;EAKA,CAXA;;EAaAC;IACAC;MACA;MACA;MAEAC,MACAC,IADA,CAEAC,wBAFA,EAGA,EACA;MADA,CAHA,EAMA;QACAC;UACAC;QADA;MADA,CANA,EAYAC,IAZA,CAYAC;QACA;QACA;MACA,CAfA,EAgBAC,KAhBA,CAgBAC;QACA;QACA;MACA,CAnBA;IAoBA;;EAzBA,CAbA;EAyCAC,YACA;MACAC,8BADA;MAEAC;IAFA;EADA;AAzCA","names":["name","components","AppBaseFormText","AppBaseFormTextArea","data","formData","formError","formErrorMessage","methods","order","axios","post","API_BASE_URL","params","userAccessKey","then","response","catch","error","computed","products","totalPrice"],"sourceRoot":"src/pages","sources":["OrderPage.vue"],"sourcesContent":["<template>\n  <!DOCTYPE html>\n  <html lang=\"ru\">\n    <head>\n      <meta charset=\"UTF-8\" />\n      <meta name=\"viewport\" content=\"width=device-width\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n      <link href=\"css/style.min.css\" rel=\"stylesheet\" />\n      <title>Корзина</title>\n    </head>\n\n    <body>\n      <!-- <header class=\"header\"></header> -->\n\n      <main class=\"content container\">\n        <div class=\"content__top\">\n          <ul class=\"breadcrumbs\">\n            <li class=\"breadcrumbs__item\">\n              <a class=\"breadcrumbs__link\" href=\"index.html\"> Каталог </a>\n            </li>\n            <li class=\"breadcrumbs__item\">\n              <a class=\"breadcrumbs__link\" href=\"cart.html\"> Корзина </a>\n            </li>\n            <li class=\"breadcrumbs__item\">\n              <a class=\"breadcrumbs__link\"> Оформление заказа </a>\n            </li>\n          </ul>\n\n          <h1 class=\"content__title\">Корзина</h1>\n          <span class=\"content__info\">\n            {{ $store.state.cartProducts.length }}\n            товара\n          </span>\n        </div>\n\n        <section class=\"cart\">\n          <form\n            class=\"cart__form form\"\n            action=\"#\"\n            method=\"POST\"\n            @submit.prevent=\"order\"\n          >\n            <div class=\"cart__field\">\n              <div class=\"cart__data\">\n                <app-base-form-text\n                  v-model=\"formData.name\"\n                  :error=\"formError.name\"\n                  title=\"ФИО\"\n                  placeholder=\"Введите ваше полное имя\"\n                />\n\n                <app-base-form-text\n                  v-model=\"formData.address\"\n                  :error=\"formError.address\"\n                  type=\"text\"\n                  title=\"Адрес доставки\"\n                  placeholder=\"Введите ваш адрес\"\n                />\n\n                <app-base-form-text\n                  v-model=\"formData.phone\"\n                  :error=\"formError.phone\"\n                  type=\"tel\"\n                  title=\"Телефон\"\n                  placeholder=\"Введите ваш телефон\"\n                />\n\n                <app-base-form-text\n                  v-model=\"formData.email\"\n                  :error=\"formError.email\"\n                  type=\"email\"\n                  title=\"Email\"\n                  placeholder=\"Введи ваш Email\"\n                />\n\n                <app-base-form-text-area\n                  v-model=\"formData.comment\"\n                  :error=\"formError.comment\"\n                  title=\"Комментарий к заказу\"\n                  placeholder=\"Ваши пожелания\"\n                />\n              </div>\n\n              <div class=\"cart__options\">\n                <h3 class=\"cart__title\">Доставка</h3>\n                <ul class=\"cart__options options\">\n                  <li class=\"options__item\">\n                    <label class=\"options__label\">\n                      <input\n                        class=\"options__radio sr-only\"\n                        type=\"radio\"\n                        name=\"delivery\"\n                        value=\"0\"\n                        checked=\"\"\n                      />\n                      <span class=\"options__value\">\n                        Самовывоз <b>бесплатно</b>\n                      </span>\n                    </label>\n                  </li>\n                  <li class=\"options__item\">\n                    <label class=\"options__label\">\n                      <input\n                        class=\"options__radio sr-only\"\n                        type=\"radio\"\n                        name=\"delivery\"\n                        value=\"500\"\n                      />\n                      <span class=\"options__value\">\n                        Курьером <b>500 ₽</b>\n                      </span>\n                    </label>\n                  </li>\n                </ul>\n\n                <h3 class=\"cart__title\">Оплата</h3>\n                <ul class=\"cart__options options\">\n                  <li class=\"options__item\">\n                    <label class=\"options__label\">\n                      <input\n                        class=\"options__radio sr-only\"\n                        type=\"radio\"\n                        name=\"pay\"\n                        value=\"card\"\n                      />\n                      <span class=\"options__value\"> Картой при получении </span>\n                    </label>\n                  </li>\n                  <li class=\"options__item\">\n                    <label class=\"options__label\">\n                      <input\n                        class=\"options__radio sr-only\"\n                        type=\"radio\"\n                        name=\"pay\"\n                        value=\"cash\"\n                      />\n                      <span class=\"options__value\">\n                        Наличными при получении\n                      </span>\n                    </label>\n                  </li>\n                </ul>\n              </div>\n            </div>\n\n            //make component OrderList\n            <div class=\"cart__block\">\n              <ul class=\"cart__orders\">\n                <li class=\"cart__order\"></li>\n                <li class=\"cart__order\">\n                  <h3>Гироскутер Razor Hovertrax 2.0ii</h3>\n                  <b>4 990 ₽</b>\n                  <span>Артикул: 000000</span>\n                </li>\n                <li class=\"cart__order\">\n                  <h3>Электрический дрифт-карт Razor Lil’ Crazy</h3>\n                  <b>8 990 ₽</b>\n                  <span>Артикул: 150030</span>\n                </li>\n              </ul>\n\n              <div class=\"cart__total\">\n                <p>Доставка: <b>500 ₽</b></p>\n                <p>Итого: <b>3</b> товара на сумму <b>37 970 ₽</b></p>\n              </div>\n\n              <button class=\"cart__button button button--primery\" type=\"submit\">\n                Оформить заказ\n              </button>\n            </div>\n            <div class=\"cart__error form__error-block\" v-if=\"formErrorMessage\">\n              <h4>Заявка не отправлена!</h4>\n              <p>\n                {{ formErrorMessage }}\n              </p>\n            </div>\n          </form>\n        </section>\n      </main>\n\n      <footer class=\"footer\">\n        <div class=\"footer__wrapper container\">\n          <ul class=\"footer__links\">\n            <li>\n              <a class=\"footer__link\" href=\"#\"> Каталог </a>\n            </li>\n            <li>\n              <a class=\"footer__link\" href=\"tel:88006009009\">\n                8 800 600 90 09\n              </a>\n            </li>\n            <li>\n              <a class=\"footer__link\" href=\"mailto:hi@technozavrrr.com\">\n                hi@technozavrrr.com\n              </a>\n            </li>\n            <li>\n              <a class=\"footer__link\" href=\"#\"> Распродажа </a>\n            </li>\n            <li>\n              <a class=\"footer__link footer__link--medium\" href=\"#\">\n                Заказать звонок\n              </a>\n            </li>\n          </ul>\n\n          <ul class=\"footer__social social\">\n            <li class=\"social__item\">\n              <a class=\"social__link\" href=\"#\" aria-label=\"Вконтакте\">\n                <svg width=\"20\" height=\"11\" fill=\"currentColor\">\n                  <use xlink:href=\"#icon-vk\"></use>\n                </svg>\n              </a>\n            </li>\n            <li class=\"social__item\">\n              <a class=\"social__link\" href=\"#\" aria-label=\"Инстаграм\">\n                <svg width=\"17\" height=\"17\" fill=\"currentColor\">\n                  <use xlink:href=\"#icon-insta\"></use>\n                </svg>\n              </a>\n            </li>\n            <li class=\"social__item\">\n              <a class=\"social__link\" href=\"#\" aria-label=\"Facebook\">\n                <svg width=\"17\" height=\"17\" fill=\"currentColor\">\n                  <use xlink:href=\"#icon-facebook\"></use>\n                </svg>\n              </a>\n            </li>\n            <li class=\"social__item\">\n              <a class=\"social__link\" href=\"#\" aria-label=\"Twitter\">\n                <svg width=\"17\" height=\"14\" fill=\"currentColor\">\n                  <use xlink:href=\"#icon-twitter\"></use>\n                </svg>\n              </a>\n            </li>\n            <li class=\"social__item\">\n              <a class=\"social__link\" href=\"#\" aria-label=\"Telegram\">\n                <svg width=\"19\" height=\"17\" fill=\"currentColor\">\n                  <use xlink:href=\"#icon-telegram\"></use>\n                </svg>\n              </a>\n            </li>\n          </ul>\n\n          <p class=\"footer__desc\">\n            Все права на&nbsp;материалы, находящиеся на&nbsp;сайте, охраняются\n            в&nbsp;соответствии с&nbsp;законодательством&nbsp;РФ, в&nbsp;том\n            числе об&nbsp;авторском праве и&nbsp;смежных правах.\n          </p>\n\n          <ul class=\"footer__data\">\n            <li>\n              <a\n                class=\"footer__link\"\n                href=\"#\"\n                target=\"_blank\"\n                rel=\"noopener\"\n                type=\"application/pdf\"\n              >\n                Политика конфиденциальности\n              </a>\n            </li>\n            <li>\n              <a\n                class=\"footer__link\"\n                href=\"#\"\n                target=\"_blank\"\n                rel=\"noopener\"\n                type=\"application/pdf\"\n              >\n                Публичная оферта\n              </a>\n            </li>\n          </ul>\n\n          <span class=\"footer__copyright\"> © 2020 Технозавррр </span>\n        </div>\n      </footer>\n    </body>\n  </html>\n</template>\n\n<script>\nimport AppBaseFormText from '@/components/BaseFormText.vue'\nimport AppBaseFormTextArea from '@/components/BaseFormTextArea.vue'\nimport {mapGetters} from 'vuex'\nimport axios from 'axios'\nimport {API_BASE_URL} from '@/config'\n\nexport default {\n  name: 'AppOrderPage',\n\n  components: {AppBaseFormText, AppBaseFormTextArea},\n\n  data() {\n    return {\n      formData: {},\n      formError: {},\n      formErrorMessage: '',\n    }\n  },\n\n  methods: {\n    order() {\n      this.formError = {}\n      this.formErrorMessage = ''\n\n      axios\n        .post(\n          API_BASE_URL + '/orders',\n          {\n            ...this.formData,\n          },\n          {\n            params: {\n              userAccessKey: this.$store.state.userAccessKey,\n            },\n          }\n        )\n        .then((response) => {\n          this.$store.commit('resetCart')\n          this.$store.commit()\n        })\n        .catch((error) => {\n          this.formError = error.response.data.error.request || {}\n          this.formErrorMessage = error.response.data.error.message\n        })\n    },\n  },\n\n  computed: {\n    ...mapGetters({\n      products: 'cartDetailProducts',\n      totalPrice: 'cartTotalPrice',\n    }),\n  },\n}\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}