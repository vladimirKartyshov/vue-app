{"ast":null,"code":"import numberFormat from '@/helpers/numberFormat';\nimport axios from 'axios';\nimport { API_BASE_URL } from '@/config';\nexport default {\n  name: 'AppProductPage',\n\n  data() {\n    return {\n      // counter: 1,\n      productAmount: 1,\n      productData: null,\n      productLoading: false,\n      productLoadingFailed: false\n    };\n  },\n\n  filters: {\n    numberFormat\n  },\n  computed: {\n    product() {\n      return this.productData;\n      return { ...product,\n        image: product.image.file.url\n      };\n    },\n\n    category() {\n      return this.productData.category;\n    }\n\n  },\n  methods: {\n    addToCart() {\n      this.$store.commit('addProductToCart', {\n        productId: this.product.id,\n        amount: this.productAmount\n      });\n    },\n\n    //(+/-)\n    //:value=\"counter\" 155 строка без v-model\n    increment() {\n      this.productAmount++;\n    },\n\n    discrement() {\n      this.productAmount--;\n    },\n\n    loadProduct() {\n      this.productLoading = true;\n      this.productLoadingFailed = false;\n      axios.get(API_BASE_URL + '/products/' + this.$route.params.id).then(response => this.productData = response.data).catch(() => this.productLoadingFailed = true).then(this.productLoading = false);\n    }\n\n  },\n  // 1 вариант\n  // created() {\n  //   this.loadProduct()\n  // },\n  // watch: {\n  //   '$route.params.id'() {\n  //     this.loadProduct();\n  //   },\n  // },\n  //1 вариант можно переписать так\n  watch: {\n    '$route.params.id': {\n      handler() {\n        this.loadProduct();\n      },\n\n      immediate: true\n    }\n  }\n};","map":{"version":3,"mappings":"AAsPA;AACA;AACA;AAEA;EACAA,sBADA;;EAGAC;IACA;MACA;MACAC,gBAFA;MAIAC,iBAJA;MAMAC,qBANA;MAOAC;IAPA;EASA,CAbA;;EAeAC;IACAC;EADA,CAfA;EAmBAC;IACAC;MACA;MACA,SACA,UADA;QAEAC;MAFA;IAIA,CAPA;;IAQAC;MACA;IACA;;EAVA,CAnBA;EAgCAC;IACAC;MACA;QACAC,0BADA;QAEAC;MAFA;IAIA,CANA;;IAOA;IACA;IACAC;MACA;IACA,CAXA;;IAYAC;MACA;IACA,CAdA;;IAeAC;MACA;MACA;MACAC,MACAC,GADA,CACAC,mDADA,EAEAC,IAFA,CAEAC,4CAFA,EAGAC,KAHA,CAGA,sCAHA,EAIAF,IAJA,CAIA,2BAJA;IAKA;;EAvBA,CAhCA;EAyDA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACAG;IACA;MACAC;QACA;MACA,CAHA;;MAIAC;IAJA;EADA;AArEA","names":["name","data","productAmount","productData","productLoading","productLoadingFailed","filters","numberFormat","computed","product","image","category","methods","addToCart","productId","amount","increment","discrement","loadProduct","axios","get","API_BASE_URL","then","response","catch","watch","handler","immediate"],"sourceRoot":"src/pages","sources":["ProductPage.vue"],"sourcesContent":["<template>\n  <main class=\"content container\" v-if=\"productLoading\">\n    Загрузка товара...\n  </main>\n  <main class=\"content container\" v-else-if=\"!productData\">\n    Не удалось загрузить товар\n  </main>\n  <main class=\"content container\" v-else>\n    <div class=\"content__top\">\n      <ul class=\"breadcrumbs\">\n        <li class=\"breadcrumbs__item\">\n          <router-link\n            tag=\"button\"\n            class=\"breadcrumbs__link\"\n            :to=\"{name: 'main'}\"\n          >\n            Каталог\n          </router-link>\n        </li>\n        <li class=\"breadcrumbs__item\">\n          <router-link class=\"breadcrumbs__link\" :to=\"{name: 'main'}\">\n            {{ category.title }}\n          </router-link>\n        </li>\n        <li class=\"breadcrumbs__item\">\n          <a class=\"breadcrumbs__link\"> {{ product.title }} </a>\n        </li>\n      </ul>\n    </div>\n\n    <section class=\"item\">\n      <div class=\"item__pics pics\">\n        <div class=\"pics__wrapper\">\n          <img\n            width=\"570\"\n            height=\"570\"\n            :src=\"product.image\"\n            :alt=\"product.title\"\n          />\n        </div>\n      </div>\n\n      <div class=\"item__info\">\n        <span class=\"item__code\">Артикул: {{ product.id }}</span>\n        <h2 class=\"item__title\">{{ product.title }}</h2>\n        <div class=\"item__form\">\n          <form\n            class=\"form\"\n            action=\"#\"\n            method=\"POST\"\n            @submit.prevent=\"addToCart\"\n          >\n            <b class=\"item__price\"> {{ product.price | numberFormat }} р</b>\n\n            <fieldset class=\"form__block\">\n              <legend class=\"form__legend\">Цвет:</legend>\n              <ul class=\"colors\">\n                <li class=\"colors__item\">\n                  <label class=\"colors__label\">\n                    <input\n                      class=\"colors__radio sr-only\"\n                      type=\"radio\"\n                      name=\"color-item\"\n                      value=\"blue\"\n                      checked=\"\"\n                    />\n                    <span\n                      class=\"colors__value\"\n                      style=\"background-color: #73b6ea\"\n                    >\n                    </span>\n                  </label>\n                </li>\n                <li class=\"colors__item\">\n                  <label class=\"colors__label\">\n                    <input\n                      class=\"colors__radio sr-only\"\n                      type=\"radio\"\n                      name=\"color-item\"\n                      value=\"yellow\"\n                    />\n                    <span\n                      class=\"colors__value\"\n                      style=\"background-color: #ffbe15\"\n                    >\n                    </span>\n                  </label>\n                </li>\n                <li class=\"colors__item\">\n                  <label class=\"colors__label\">\n                    <input\n                      class=\"colors__radio sr-only\"\n                      type=\"radio\"\n                      name=\"color-item\"\n                      value=\"gray\" />\n                    <span\n                      class=\"colors__value\"\n                      style=\"background-color: #939393\"\n                    >\n                    </span\n                  ></label>\n                </li>\n              </ul>\n            </fieldset>\n\n            <fieldset class=\"form__block\">\n              <legend class=\"form__legend\">Объемб в ГБ:</legend>\n\n              <ul class=\"sizes sizes--primery\">\n                <li class=\"sizes__item\">\n                  <label class=\"sizes__label\">\n                    <input\n                      class=\"sizes__radio sr-only\"\n                      type=\"radio\"\n                      name=\"sizes-item\"\n                      value=\"32\"\n                    />\n                    <span class=\"sizes__value\"> 32gb </span>\n                  </label>\n                </li>\n                <li class=\"sizes__item\">\n                  <label class=\"sizes__label\">\n                    <input\n                      class=\"sizes__radio sr-only\"\n                      type=\"radio\"\n                      name=\"sizes-item\"\n                      value=\"64\"\n                    />\n                    <span class=\"sizes__value\"> 64gb </span>\n                  </label>\n                </li>\n                <li class=\"sizes__item\">\n                  <label class=\"sizes__label\">\n                    <input\n                      class=\"sizes__radio sr-only\"\n                      type=\"radio\"\n                      name=\"sizes-item\"\n                      value=\"128\"\n                      checked=\"\"\n                    />\n                    <span class=\"sizes__value\"> 128gb </span>\n                  </label>\n                </li>\n              </ul>\n            </fieldset>\n\n            <div class=\"item__row\">\n              <div class=\"form__counter\">\n                <button\n                  @click=\"discrement()\"\n                  type=\"button\"\n                  aria-label=\"Убрать один товар\"\n                >\n                  <svg width=\"12\" height=\"12\" fill=\"currentColor\">\n                    <use xlink:href=\"#icon-minus\"></use>\n                  </svg>\n                </button>\n\n                <input\n                  type=\"text\"\n                  value=\"value\"\n                  v-model=\"productAmount\"\n                  name=\"count\"\n                />\n\n                <button\n                  @click=\"increment()\"\n                  type=\"button\"\n                  aria-label=\"Добавить один товар\"\n                >\n                  <svg width=\"12\" height=\"12\" fill=\"currentColor\">\n                    <use xlink:href=\"#icon-plus\"></use>\n                  </svg>\n                </button>\n              </div>\n              <button class=\"button button--primery\" type=\"submit\">\n                В корзину\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      <div class=\"item__desc\">\n        <ul class=\"tabs\">\n          <li class=\"tabs__item\">\n            <a class=\"tabs__link tabs__link--current\"> Описание </a>\n          </li>\n          <li class=\"tabs__item\">\n            <a class=\"tabs__link\" href=\"#\"> Характеристики </a>\n          </li>\n          <li class=\"tabs__item\">\n            <a class=\"tabs__link\" href=\"#\"> Гарантия </a>\n          </li>\n          <li class=\"tabs__item\">\n            <a class=\"tabs__link\" href=\"#\"> Оплата и доставка </a>\n          </li>\n        </ul>\n\n        <div class=\"item__content\">\n          <p>\n            Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS<br />\n            Синхронизация со смартфоном<br />\n            Связь по Bluetooth Smart, ANT+ и Wi-Fi<br />\n            Поддержка сторонних приложений<br />\n          </p>\n\n          <a href=\"#\"> Все характеристики </a>\n\n          <h3>Что это?</h3>\n\n          <p>\n            Wahoo ELEMNT BOLT GPS – это велокомпьютер, который позволяет\n            оптимизировать свои велотренировки, сделав их максимально\n            эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по\n            ANT+, объединяя полученную с них информацию. Данные отображаются на\n            дисплее, а также сохраняются на смартфоне. При этом на мобильное\n            устройство можно установить как фирменное приложение, так и\n            различные приложения сторонних разработчиков. Велокомпьютер точно\n            отслеживает местоположение, принимая сигнал с целого комплекса\n            спутников. Эта информация позволяет смотреть уже преодоленные\n            маршруты и планировать новые велопрогулки.\n          </p>\n\n          <h3>Дизайн</h3>\n\n          <p>\n            Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства\n            составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты\n            смартфона. Корпус гаджета выполнен из черного пластика. На\n            обращенной к пользователю стороне расположен дисплей диагональю 56\n            мм. На дисплей выводятся координаты и скорость, а также полученная\n            со смартфона и синхронизированных датчиков информация:\n            интенсивность, скорость вращения педалей, пульс и т.д. (датчики не\n            входят в комплект поставки). Корпус велокомпьютера имеет степень\n            защиты от влаги IPX7. Это означает, что устройство не боится пыли, а\n            также выдерживает кратковременное (до 30 минут) погружение в воду на\n            глубину не более 1 метра.\n          </p>\n        </div>\n      </div>\n    </section>\n  </main>\n</template>\n\n<script>\nimport numberFormat from '@/helpers/numberFormat'\nimport axios from 'axios'\nimport {API_BASE_URL} from '@/config'\n\nexport default {\n  name: 'AppProductPage',\n\n  data() {\n    return {\n      // counter: 1,\n      productAmount: 1,\n\n      productData: null,\n\n      productLoading: false,\n      productLoadingFailed: false,\n    }\n  },\n\n  filters: {\n    numberFormat,\n  },\n\n  computed: {\n    product() {\n      return this.productData \n      return {\n              ...product,\n              image: product.image.file.url,\n            }\n    },\n    category() {\n      return this.productData.category\n    },\n  },\n\n  methods: {\n    addToCart() {\n      this.$store.commit('addProductToCart', {\n        productId: this.product.id,\n        amount: this.productAmount,\n      })\n    },\n    //(+/-)\n    //:value=\"counter\" 155 строка без v-model\n    increment() {\n      this.productAmount++\n    },\n    discrement() {\n      this.productAmount--\n    },\n    loadProduct() {\n      this.productLoading = true\n      this.productLoadingFailed = false\n      axios\n        .get(API_BASE_URL + '/products/' + this.$route.params.id)\n        .then((response) => (this.productData = response.data))\n        .catch(() => (this.productLoadingFailed = true))\n        .then((this.productLoading = false))\n    },\n  },\n  // 1 вариант\n  // created() {\n  //   this.loadProduct()\n  // },\n\n  // watch: {\n  //   '$route.params.id'() {\n  //     this.loadProduct();\n  //   },\n  // },\n\n  //1 вариант можно переписать так\n  watch: {\n    '$route.params.id': {\n      handler() {\n        this.loadProduct()\n      },\n      immediate: true,\n    },\n  },\n}\n</script>\n\n<style scoped></style>\n"]},"metadata":{},"sourceType":"module"}