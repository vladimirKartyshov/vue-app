{"ast":null,"code":"import products from '@/data/products';\nimport AppProductList from '@/components/ProductList.vue';\nimport AppBasePagination from '@/components/BasePagination.vue';\nimport AppProductFilter from '@/components/ProductFilter.vue';\nimport axios from 'axios';\nexport default {\n  name: 'AppMainPage',\n  components: {\n    AppProductList,\n    AppBasePagination,\n    AppProductFilter\n  },\n\n  data() {\n    return {\n      filterPriceFrom: 0,\n      filterPriceTo: 0,\n      filterCategoryId: 0,\n      startColor: 0,\n      page: 1,\n      productsPerPage: 6,\n      productsData: null\n    };\n  },\n\n  computed: {\n    filteredProducts() {\n      let filteredProducts = products;\n\n      if (this.filterPriceFrom > 0) {\n        filteredProducts = filteredProducts.filter(product => product.price > this.filterPriceFrom);\n      }\n\n      if (this.filterPriceTo > 0) {\n        filteredProducts = filteredProducts.filter(product => product.price < this.filterPriceTo);\n      }\n\n      if (this.filterCategoryId > 0) {\n        filteredProducts = filteredProducts.filter(product => product.categoryId === this.filterCategoryId);\n      }\n\n      if (this.startColor && this.startColor.length) {\n        filteredProducts = filteredProducts.filter(product => product.colors.indexOf(this.startColor) > -1);\n      }\n\n      return filteredProducts;\n    },\n\n    products() {\n      const offset = (this.page - 1) * this.productsPerPage;\n      return this.filteredProducts.slice(offset, offset + this.productsPerPage);\n    },\n\n    countProducts() {\n      return this.filteredProducts.length;\n    }\n\n  },\n  methods: {\n    loadProducts() {\n      axios.get('https://vue-study.skillbox.cc/api/products').then(response => this.productsData = response);\n    }\n\n  },\n\n  created() {\n    this.loadProducts();\n  }\n\n};","map":{"version":3,"mappings":"AA6BA;AACA;AACA;AACA;AACA;AAEA;EACAA,mBADA;EAEAC;IACAC,cADA;IAEAC,iBAFA;IAGAC;EAHA,CAFA;;EAQAC;IACA;MACAC,kBADA;MAEAC,gBAFA;MAGAC,mBAHA;MAIAC,aAJA;MAMAC,OANA;MAOAC,kBAPA;MASAC;IATA;EAWA,CApBA;;EAsBAC;IACAC;MACA;;MAEA;QACAA,2CACAC,+CADA;MAGA;;MACA;QACAD,2CACAC,6CADA;MAGA;;MACA;QACAD,2CACAC,uDADA;MAGA;;MACA;QACAD,2CACAC,uDADA;MAGA;;MAEA;IACA,CA1BA;;IA2BAC;MACA;MACA;IACA,CA9BA;;IA+BAC;MACA;IACA;;EAjCA,CAtBA;EA0DAC;IACAC;MACAC,MACAC,GADA,CACA,4CADA,EAEAC,IAFA,CAEAC,wCAFA;IAGA;;EALA,CA1DA;;EAiEAC;IACA;EACA;;AAnEA","names":["name","components","AppProductList","AppBasePagination","AppProductFilter","data","filterPriceFrom","filterPriceTo","filterCategoryId","startColor","page","productsPerPage","productsData","computed","filteredProducts","product","products","countProducts","methods","loadProducts","axios","get","then","response","created"],"sourceRoot":"src/pages","sources":["MainPage.vue"],"sourcesContent":["<template>\n  <main class=\"content container\">\n    <div class=\"content__top content__top--catalog\">\n      <h1 class=\"content__title\">Каталог</h1>\n      <span class=\"content__info\"> 152 товара </span>\n    </div>\n\n    <div class=\"content__catalog\">\n      <app-product-filter\n        :price-from.sync=\"filterPriceFrom\"\n        :price-to.sync=\"filterPriceTo\"\n        :category-id.sync=\"filterCategoryId\"\n        :start-color.sync=\"startColor\"\n      ></app-product-filter>\n\n      <section class=\"catalog\">\n        <app-product-list :products=\"products\"></app-product-list>\n\n        <app-base-pagination\n          v-model=\"page\"\n          :count=\"countProducts\"\n          :per-page=\"productsPerPage\"\n        ></app-base-pagination>\n      </section>\n    </div>\n  </main>\n</template>\n\n<script>\nimport products from '@/data/products'\nimport AppProductList from '@/components/ProductList.vue'\nimport AppBasePagination from '@/components/BasePagination.vue'\nimport AppProductFilter from '@/components/ProductFilter.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'AppMainPage',\n  components: {\n    AppProductList,\n    AppBasePagination,\n    AppProductFilter,\n  },\n\n  data() {\n    return {\n      filterPriceFrom: 0,\n      filterPriceTo: 0,\n      filterCategoryId: 0,\n      startColor: 0,\n\n      page: 1,\n      productsPerPage: 6,\n\n      productsData: null,\n    }\n  },\n\n  computed: {\n    filteredProducts() {\n      let filteredProducts = products\n\n      if (this.filterPriceFrom > 0) {\n        filteredProducts = filteredProducts.filter(\n          (product) => product.price > this.filterPriceFrom\n        )\n      }\n      if (this.filterPriceTo > 0) {\n        filteredProducts = filteredProducts.filter(\n          (product) => product.price < this.filterPriceTo\n        )\n      }\n      if (this.filterCategoryId > 0) {\n        filteredProducts = filteredProducts.filter(\n          (product) => product.categoryId === this.filterCategoryId\n        )\n      }\n      if (this.startColor && this.startColor.length) {\n        filteredProducts = filteredProducts.filter(\n          (product) => product.colors.indexOf(this.startColor) > -1\n        )\n      }\n\n      return filteredProducts\n    },\n    products() {\n      const offset = (this.page - 1) * this.productsPerPage\n      return this.filteredProducts.slice(offset, offset + this.productsPerPage)\n    },\n    countProducts() {\n      return this.filteredProducts.length\n    },\n  },\n\n  methods: {\n    loadProducts() {\n      axios\n        .get('https://vue-study.skillbox.cc/api/products')\n        .then((response) => (this.productsData = response))\n    },\n  },\n  created() {\n    this.loadProducts()\n  },\n}\n</script>\n\n<style scoped></style>\n"]},"metadata":{},"sourceType":"module"}